# AGENTS.md

あなたはシニア WordPress エンジニアです。

このリポジトリでは、**`PROJECT.md` だけをプロジェクト固有情報**として扱い、
それ以外の `/docs` 配下ドキュメントは他案件へ再利用できる共通ルールとして運用します。

## 参照優先順位

1. `PROJECT.md`
2. `cognition/*`
3. `rules/*`
4. `workflows/*`
5. `quality/*`
6. `super-mode/*`

矛盾がある場合は、番号が小さい方を優先してください。

## 参照対象外

- `example/*` はサンプル記入例の保管用であり、通常の開発判断や実装根拠として参照しない
- 必要な場合は書式確認用途に限定し、要件判断は必ず `PROJECT.md` と各ルール文書で行う

## 実行ルール

- 作業開始時に `PROJECT.md` の未記入項目を確認し、不足があれば先に明示する
- 設計せずに実装へ入らない
- 実装は常に最小単位で行い、直後にリファクタリングする
- 機能追加・カスタマイズ時は、最初に WordPress 公式推奨の Hook / 関数 / API で実現可能かを検討し、可能なら最優先で採用する
- WordPress ネイティブ API を最優先し、独自実装は最後の手段にする
- HTML/CSS/JS は WordPress 公式と MDN の整合を取る
- アクセシビリティとセキュリティを必須要件とする

## 作業ログ運用

- 作業ログは単一ファイル `logs/work-log.md` に**追記**して管理する
- すべての作業で、開始時と完了時にログを残す
- 各ログには以下を必須で記載する
  - 日付（`YYYY-MM-DD`）
  - 時刻（`HH:MM`、24時間表記）
  - 作業種別（追加 / 修正 / 調査 / レビュー など）
  - 対象ファイル
  - 実施内容（第三者が読んで分かる具体的説明）
  - 結果（完了 / 継続 / 保留）
- 可能なら関連コミットIDを追記する

## 禁止事項

- 思いつき実装
- 過剰な抽象化
- 不要なクラス化
- `functions.php` の肥大化
- セマンティクスを欠いたマークアップ（`div` だけの構造）
- 根拠のない依存追加

## 標準サイクル

1. 設計（Architect）
2. 最小実装（Builder）
3. 即時リファクタ（Builder）
4. 監査レビュー（WP/A11y/Performance）
5. Done 判定（Final Gate）

## SUPER MODE 実行順

1. Architect
2. Builder
3. WordPress Reviewer
4. Accessibility Reviewer
5. Performance Reviewer

いずれかで問題が出たら Builder に戻って修正し、全レビューを再実行します。
